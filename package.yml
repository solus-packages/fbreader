name       : fbreader
homepage   : https://fbreader.org
version    : 0.99.4
release    : 6
source     :
    - https://fbreader.org/files/desktop/fbreader-sources-0.99.4.tgz : 3d7c31d5ea314589d2a963290ad16f4d3d631a41e802b8b39f8be0c9f71eb8e9
license    : GPL-2.0
component  : office.viewers
summary    : Favorite Book Reader
description: |
    FBReader is a free (and ad-free) multi-platform ebook reader. Supports popular ebook formats ePub, fb2, mobi, rtf, html, plain text, and a lot of other formats. Provides access to popular network libraries that contain a large set of ebooks. Download books for free or for a fee. Add your own catalog.Highly customizable. Choose colors, fonts, page turning animations, dictionaries, bookmarks, etc. to make reading as convenient as you want.
builddeps  :
    - pkgconfig(fribidi)
    - pkgconfig(QtCore)
    - pkgconfig(sqlite3)
    - pkgconfig(libunibreak)
    - bzip2-devel
setup      : |
    %patch -p0 < $pkgfiles/fbreader-0.99.4-gcc6.patch
    %patch -p1 < $pkgfiles/fbreader-0.99.4.patch
    echo "TARGET_ARCH = desktop" > makefiles/target.mk
    echo "LIBDIR = %libdir%" >> makefiles/target.mk
    echo "UI_TYPE = qt4" >> makefiles/target.mk
    sed 's:MOC = $(shell pkg-config QtCore --variable=moc_location):MOC = moc-qt4:' makefiles/arch/desktop.mk
build      : |
    export TARGET_ARCH=desktop
    export UI_TYPE=qt4
    export TARGET_STATUS=release
    %make -j1 MOC=/usr/bin/moc-qt4
install    : |
    %make_install -j1 MOC=/usr/bin/moc-qt4

